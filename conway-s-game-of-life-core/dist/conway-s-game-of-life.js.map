{"version":3,"sources":["../src/conway-s-game-of-life.js"],"names":["ConwaysGameOfLife","dimension","grid","Array","i","row","fill","STATE_DEAD","push","col","_tryIndexOutOfBoundsException","STATE_ALIVE","count","isAliveSafe","next","from","countNeighbours","Error"],"mappings":"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","sourcesContent":["export class ConwaysGameOfLife {\r\n\r\n    constructor(dimension) {\r\n        this.dimension = dimension;\r\n        this.grid = new Array();\r\n        for (let i = 0; i < this.dimension; i++) {\r\n            let row = new Array(this.dimension);\r\n            row.fill(ConwaysGameOfLife.STATE_DEAD);\r\n            this.grid.push(row);\r\n        }\r\n    }\r\n\r\n    setAlive(row, col) {\r\n        this._tryIndexOutOfBoundsException(row, col);\r\n        this.grid[row][col] = ConwaysGameOfLife.STATE_ALIVE;\r\n    };\r\n\r\n    isAlive(row, col) {\r\n        this._tryIndexOutOfBoundsException(row, col);\r\n        return this.grid[row][col] == ConwaysGameOfLife.STATE_ALIVE;\r\n    };\r\n\r\n    isAliveSafe(row, col) {\r\n        return row >= 0 && row < this.dimension && col >= 0 && col < this.dimension && this.grid[row][col] == ConwaysGameOfLife.STATE_ALIVE;\r\n    }\r\n\r\n    countNeighbours(row, col) {\r\n        this._tryIndexOutOfBoundsException(row, col);\r\n        let count = 0;\r\n        if (this.isAliveSafe(row - 1, col - 1)) count++;\r\n        if (this.isAliveSafe(row - 1, col + 0)) count++;\r\n        if (this.isAliveSafe(row - 1, col + 1)) count++;\r\n        if (this.isAliveSafe(row + 0, col - 1)) count++;\r\n        if (this.isAliveSafe(row + 0, col + 1)) count++;\r\n        if (this.isAliveSafe(row + 1, col - 1)) count++;\r\n        if (this.isAliveSafe(row + 1, col + 0)) count++;\r\n        if (this.isAliveSafe(row + 1, col + 1)) count++;\r\n        return count;\r\n    };\r\n\r\n    step() {\r\n        let next = new Array();\r\n        for (let row = 0; row < this.dimension; row++) {\r\n            next.push(Array.from(this.grid[row]))\r\n        }\r\n        for (let row = 0; row < this.dimension; row++) {\r\n            for (let col = 0; col < this.dimension; col++) {\r\n                let count = this.countNeighbours(row, col);\r\n                if (count < 2 || count > 3) next[row][col] = ConwaysGameOfLife.STATE_DEAD;\r\n                else if (count == 3) next[row][col] = ConwaysGameOfLife.STATE_ALIVE;\r\n                else if (this.grid[row][col] == ConwaysGameOfLife.STATE_ALIVE) next[row][col] = ConwaysGameOfLife.STATE_ALIVE;\r\n            }\r\n        }\r\n        this.grid = next;\r\n    };\r\n\r\n    _tryIndexOutOfBoundsException(row, col) {\r\n        if (row < 0 || col < 0 || row >= this.dimension || col >= this.dimension) {\r\n            throw new Error(`Row and col shall be between 0 and ${this.dimension}`);\r\n        };\r\n    };\r\n}\r\n\r\nConwaysGameOfLife.STATE_ALIVE = true;\r\nConwaysGameOfLife.STATE_DEAD = false;"],"file":"conway-s-game-of-life.js"}